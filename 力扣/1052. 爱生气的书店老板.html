<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var customers = [2, 6, 6, 9], grumpy = [0, 0, 1, 1], X = 0;
        var maxSatisfied = function (customers, grumpy, X) {
            var right = 0
            var n = grumpy.length
            var result = 0
            var Satisfied = 0
            for (var i = 0; i < n; i++) {
                if (grumpy[i] === 0) {
                    Satisfied += customers[i]
                }
            }
            while (right < n) {
                if (grumpy[right] === 1) {
                    result = Math.max(result, compute(right, right + X - 1))
                }
                right++
            }
            function compute(left, right) {
                var result = 0
                right = right > n - 1 ? n - 1 : right
                for (var i = left; i <= right; i++) {
                    if (grumpy[i] === 1) {
                        result += customers[i]
                    }
                }
                return result
            }
            return result + Satisfied
        };
        console.log(maxSatisfied(customers, grumpy, X))
    </script>
</body>

</html>